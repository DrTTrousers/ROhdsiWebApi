<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vignette • ROhdsiWebApi</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Vignette">
<meta property="og:description" content="ROhdsiWebApi">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ROhdsiWebApi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Vignette.html">Vignette</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://ohdsi.github.io/Hades"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a>
</li>
<li>
  <a href="https://github.com/OHDSI/ROhdsiWebApi/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Vignette</h1>
                        <h4 class="author">Gowtham Rao</h4>
            
            <h4 class="date">2020-06-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/OHDSI/ROhdsiWebApi/blob/master/vignettes/Vignette.Rmd"><code>vignettes/Vignette.Rmd</code></a></small>
      <div class="hidden name"><code>Vignette.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><html><body><pre class="r">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ROhdsiWebApi</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">magrittr</span>)

<span class="kw">if</span> (<span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span>(<span class="st">"baseUrl"</span>) <span class="kw">==</span> <span class="st">''</span>) {
  <span class="no">server</span> <span class="kw">&lt;-</span> <span class="st">"ohdsiBaseUrl"</span>
} <span class="kw">else</span> {<span class="no">server</span> <span class="kw">&lt;-</span> <span class="st">"baseUrl"</span>}
<span class="no">baseUrl</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span>(<span class="no">server</span>)</pre></body></html></div>
<p>ROhdsiWebApi is part of <a href="https://ohdsi.github.io/Hades">HADES</a>.</p>
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>From Package <a href="https://github.com/OHDSI/ROhdsiWebApi/blob/master/README.md">Readme</a></p>
<blockquote>
<p>ROhdsiWebApi is a R based interface to <a href="https://github.com/ohdsi/webapi">‘WebApi’</a> (OHDSI RESTful services), and performs GET/PULL/POST/DELETE calls via the WebApi. All objects starting from R or output to R - are analysis ready R-objects like list and data.frame. The package handles the intermediary steps by converting R-objects to JSON and vice versa. To ensure r-objects are analysis ready, the objects are type converted where possible, e.g. date/date time are converted from string to POSIXct.</p>
</blockquote>
<blockquote>
<p>This package makes reproducible research easier, by offering ability to retrieve detailed study specifications, transport study specifications from one instance to another, programmatically invoke the generation of a sequence of steps that are part of a study, manage running studies in batch mode.</p>
</blockquote>
<p>This document will attempt to explain how ROhdsiWebApi maybe used to achieve reproducible research.</p>
</div>
<div id="knowing-your-webapi-configurations" class="section level1">
<h1 class="hasAnchor">
<a href="#knowing-your-webapi-configurations" class="anchor"></a>Knowing your WebApi configurations</h1>
<p>To successfully use ROhdsiWebApi, it is necessary to have an active <a href="https://github.com/ohdsi/webapi">‘WebApi’</a> endpoint with a known baseUrl such as “<a href="http://server.org:80/WebAPI" class="uri">http://server.org:80/WebAPI</a>”. <a href="https://github.com/ohdsi/webapi">‘WebApi’</a> has many functional categories.</p>
<div id="supported-webapi-functional-categories-" class="section level3">
<h3 class="hasAnchor">
<a href="#supported-webapi-functional-categories-" class="anchor"></a>Supported WebApi functional categories.</h3>
<pre><code>#&gt; # A tibble: 7 x 2
#&gt;   ` Category`      Features                                                 
#&gt;   &lt;chr&gt;            &lt;chr&gt;                                                    
#&gt; 1 ConceptSet       Functions for interfacing with ConceptSet in WebApi      
#&gt; 2 Cohort           Functions for interfacing with Cohort in WebApi          
#&gt; 3 IncidenceRate    Functions for interfacing with IncidenceRate in WebApi   
#&gt; 4 Estimation       Functions for interfacing with Estimation in WebApi      
#&gt; 5 Prediction       Functions for interfacing with Prediction in WebApi      
#&gt; 6 Characterization Functions for interfacing with Characterization in WebApi
#&gt; 7 Pathway          Functions for interfacing with Pathway in WebApi</code></pre>
</div>
</div>
<div id="general-framework" class="section level1">
<h1 class="hasAnchor">
<a href="#general-framework" class="anchor"></a>General framework</h1>
<p>One approach to understand the general framework for this package is to understand the <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> framework for <a href="https://github.com/ohdsi/webapi">WebApi</a>, i.e. the GET, PUT, DELETE, POST calls to the API. See <a href="http://webapidoc.ohdsi.org/index.html">the documentation of the WebApi</a>. For each category supported the WebApi, ROhdsiWebAPi supports GET, PUT, DELETE, POST calls to the API, where appropriate. e.g. <code>getDefinitionMetaData</code> function is a general function that is able to get the Metadata for all specifications within a category.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r">
<span class="kw pkg">ROhdsiWebApi</span><span class="kw ns">::</span><span class="fu"><a href="../reference/getDefinitionsMetadata.html">getDefinitionsMetadata</a></span>(<span class="kw">baseUrl</span> <span class="kw">=</span> <span class="no">baseUrl</span>, <span class="kw">category</span> <span class="kw">=</span> <span class="st">'cohort'</span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="no">.data</span>$<span class="no">id</span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html">rename_all</a></span>(<span class="kw">.funs</span> <span class="kw">=</span> <span class="kw pkg">SqlRender</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/SqlRender/man/camelCaseToTitleCase.html">camelCaseToTitleCase</a></span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>()
<span class="co">#&gt; # A tibble: 6 x 7</span>
<span class="co">#&gt;      Id Name  Description `Created By` `Created Date`      `Modified By`</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;       &lt;lgl&gt;        &lt;dttm&gt;              &lt;lgl&gt;        </span>
<span class="co">#&gt; 1     3 Chri~ "Testing f~ NA           2015-05-26 15:42:00 NA           </span>
<span class="co">#&gt; 2     4 Voca~  &lt;NA&gt;       NA           2015-05-26 15:42:00 NA           </span>
<span class="co">#&gt; 3     5 card~ "people wi~ NA           2015-05-26 15:42:00 NA           </span>
<span class="co">#&gt; 4     6 Inde~  &lt;NA&gt;       NA           2015-05-26 15:42:00 NA           </span>
<span class="co">#&gt; 5     7 Matc~ ""          NA           2015-05-26 15:42:00 NA           </span>
<span class="co">#&gt; 6     8 Inde~  &lt;NA&gt;       NA           2015-05-26 15:42:00 NA           </span>
<span class="co">#&gt; # ... with 1 more variable: `Modified Date` &lt;dttm&gt;</span></pre></body></html></div>
<p>The same output may be achieved using</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r">
<span class="kw pkg">ROhdsiWebApi</span><span class="kw ns">::</span><span class="fu"><a href="../reference/getCohortDefinitionsMetaData.html">getCohortDefinitionsMetaData</a></span>(<span class="kw">baseUrl</span> <span class="kw">=</span> <span class="no">baseUrl</span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="no">.data</span>$<span class="no">id</span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html">rename_all</a></span>(<span class="kw">.funs</span> <span class="kw">=</span> <span class="kw pkg">SqlRender</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/SqlRender/man/camelCaseToTitleCase.html">camelCaseToTitleCase</a></span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>()
<span class="co">#&gt; # A tibble: 6 x 7</span>
<span class="co">#&gt;      Id Name  Description `Created By` `Created Date`      `Modified By`</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;       &lt;lgl&gt;        &lt;dttm&gt;              &lt;lgl&gt;        </span>
<span class="co">#&gt; 1     3 Chri~ "Testing f~ NA           2015-05-26 15:42:00 NA           </span>
<span class="co">#&gt; 2     4 Voca~  &lt;NA&gt;       NA           2015-05-26 15:42:00 NA           </span>
<span class="co">#&gt; 3     5 card~ "people wi~ NA           2015-05-26 15:42:00 NA           </span>
<span class="co">#&gt; 4     6 Inde~  &lt;NA&gt;       NA           2015-05-26 15:42:00 NA           </span>
<span class="co">#&gt; 5     7 Matc~ ""          NA           2015-05-26 15:42:00 NA           </span>
<span class="co">#&gt; 6     8 Inde~  &lt;NA&gt;       NA           2015-05-26 15:42:00 NA           </span>
<span class="co">#&gt; # ... with 1 more variable: `Modified Date` &lt;dttm&gt;</span></pre></body></html></div>
<p>Similar approach may be used for all categories as follows:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r">
<span class="kw pkg">ROhdsiWebApi</span><span class="kw ns">::</span><span class="fu"><a href="../reference/getDefinitionsMetadata.html">getDefinitionsMetadata</a></span>(<span class="kw">baseUrl</span> <span class="kw">=</span> <span class="no">baseUrl</span>, <span class="kw">category</span> <span class="kw">=</span> <span class="st">'estimation'</span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="no">.data</span>$<span class="no">id</span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html">rename_all</a></span>(<span class="kw">.funs</span> <span class="kw">=</span> <span class="kw pkg">SqlRender</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/SqlRender/man/camelCaseToTitleCase.html">camelCaseToTitleCase</a></span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>()
<span class="co">#&gt; # A tibble: 6 x 6</span>
<span class="co">#&gt;      Id Name         `Created Date`      `Modified Date`     Type    Description</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;dttm&gt;              &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;      </span>
<span class="co">#&gt; 1     1 FQ vs AZ_ST~ 2018-10-08 17:35:42 2019-02-07 06:43:19 Compar~ &lt;NA&gt;       </span>
<span class="co">#&gt; 2     2 OHDSI Video~ 2018-10-09 17:58:13 2018-10-09 17:58:44 Compar~ &lt;NA&gt;       </span>
<span class="co">#&gt; 3     4 [OHDSI Euro~ 2018-10-10 14:44:47 2018-12-02 06:44:52 Compar~ &lt;NA&gt;       </span>
<span class="co">#&gt; 4     5 [OHDSI Ecos~ 2018-10-11 10:44:30 2018-10-18 13:22:57 Compar~ &lt;NA&gt;       </span>
<span class="co">#&gt; 5     6 TAVR vs SAVR 2018-10-15 15:47:56 2018-10-19 13:31:40 Compar~ &lt;NA&gt;       </span>
<span class="co">#&gt; 6     7 [AL-Manuscr~ 2018-11-03 16:04:48 2018-11-06 09:47:29 Compar~ &lt;NA&gt;</span></pre></body></html></div>
<div class="sourceCode" id="cb6"><html><body><pre class="r">
<span class="kw pkg">ROhdsiWebApi</span><span class="kw ns">::</span><span class="fu"><a href="../reference/getEstimationDefinitionsMetaData.html">getEstimationDefinitionsMetaData</a></span>(<span class="kw">baseUrl</span> <span class="kw">=</span> <span class="no">baseUrl</span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="no">.data</span>$<span class="no">id</span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html">rename_all</a></span>(<span class="kw">.funs</span> <span class="kw">=</span> <span class="kw pkg">SqlRender</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/SqlRender/man/camelCaseToTitleCase.html">camelCaseToTitleCase</a></span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>()
<span class="co">#&gt; # A tibble: 6 x 6</span>
<span class="co">#&gt;      Id Name         `Created Date`      `Modified Date`     Type    Description</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;dttm&gt;              &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;      </span>
<span class="co">#&gt; 1     1 FQ vs AZ_ST~ 2018-10-08 17:35:42 2019-02-07 06:43:19 Compar~ &lt;NA&gt;       </span>
<span class="co">#&gt; 2     2 OHDSI Video~ 2018-10-09 17:58:13 2018-10-09 17:58:44 Compar~ &lt;NA&gt;       </span>
<span class="co">#&gt; 3     4 [OHDSI Euro~ 2018-10-10 14:44:47 2018-12-02 06:44:52 Compar~ &lt;NA&gt;       </span>
<span class="co">#&gt; 4     5 [OHDSI Ecos~ 2018-10-11 10:44:30 2018-10-18 13:22:57 Compar~ &lt;NA&gt;       </span>
<span class="co">#&gt; 5     6 TAVR vs SAVR 2018-10-15 15:47:56 2018-10-19 13:31:40 Compar~ &lt;NA&gt;       </span>
<span class="co">#&gt; 6     7 [AL-Manuscr~ 2018-11-03 16:04:48 2018-11-06 09:47:29 Compar~ &lt;NA&gt;</span></pre></body></html></div>
<p>This is a generic framework that applies to most WebApi categories, and supports different types of CRUD functionalities like deleteConceptSetDefinition() vs deleteDefinition(category = ‘conceptSet’).</p>
</div>
<div id="concept-set" class="section level1">
<h1 class="hasAnchor">
<a href="#concept-set" class="anchor"></a>Concept Set</h1>
<p>Please review <a href="https://ohdsi.github.io/TheBookOfOhdsi/Cohorts.html#conceptSets">‘Concept sets - The Book of OHDSI’</a></p>
<p>We commonly post concept set expression into WebApi/Atlas, or try get an expression from Atlas/WebApi based on a conceptSetDefinitionId.</p>
<p>Example: lets say we have concept set expression as follows, that is being used for a Rheumatoid Arthritis study.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r">
<span class="no">jsonExpression</span> <span class="kw">&lt;-</span> <span class="st">[1575 chars quoted with ''']</span></pre></body></html></div>
<p>Lets call this concept set expression - ‘[ROhdsiWebApi Vignette] Rheumatoid Arthritis concept set’.</p>
<p>Note: function does not accept JSON. It needs to be converted to R (list) expression</p>
<p>We can post the concept set expression into WebApi as follows:</p>
<pre><code>#&gt; Post ConceptSet definition was successful</code></pre>
<p>If successful, we will get a return object as follows into R.</p>
<pre><code>#&gt; # A tibble: 1 x 6
#&gt;   createdBy modifiedBy createdDate         modifiedDate           id name       
#&gt;   &lt;lgl&gt;     &lt;lgl&gt;      &lt;dttm&gt;              &lt;dttm&gt;              &lt;int&gt; &lt;chr&gt;      
#&gt; 1 NA        NA         2020-06-11 06:33:06 2020-06-11 06:33:06 11355 [ROhdsiWeb~</code></pre>
<p>The id of the newly posted concept-set definition is 11355. We can now use this concept-set for many concept set queries eg.,</p>
<div id="if-want-to-print-ready-expression-of-the-concept-set-definition" class="section level2">
<h2 class="hasAnchor">
<a href="#if-want-to-print-ready-expression-of-the-concept-set-definition" class="anchor"></a>if want to print ready expression of the concept set definition</h2>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">conceptSetDefinition</span> <span class="kw">=</span> <span class="fu"><a href="../reference/getConceptSetDefinition.html">getConceptSetDefinition</a></span>(<span class="kw">conceptSetId</span> <span class="kw">=</span> <span class="no">returnFromPostRequest</span>$<span class="no">id</span>, <span class="kw">baseUrl</span> <span class="kw">=</span> <span class="no">baseUrl</span>)
<span class="no">conceptTbl</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/convertConceptSetDefinitionToTable.html">convertConceptSetDefinitionToTable</a></span>(<span class="no">conceptSetDefinition</span>)
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">conceptTbl</span>) <span class="kw">&lt;-</span> <span class="kw pkg">SqlRender</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/SqlRender/man/camelCaseToTitleCase.html">camelCaseToTitleCase</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">conceptTbl</span>))
<span class="no">conceptTbl</span>
<span class="co">#&gt; # A tibble: 3 x 13</span>
<span class="co">#&gt;   `Is Excluded` `Include Descen~ `Include Mapped` `Concept Id` `Concept Name`</span>
<span class="co">#&gt;   &lt;lgl&gt;         &lt;lgl&gt;            &lt;lgl&gt;                   &lt;int&gt; &lt;chr&gt;         </span>
<span class="co">#&gt; 1 TRUE          FALSE            FALSE                   81097 Felty's syndr~</span>
<span class="co">#&gt; 2 FALSE         TRUE             FALSE                   80809 Rheumatoid ar~</span>
<span class="co">#&gt; 3 FALSE         TRUE             FALSE                 4035611 Seropositive ~</span>
<span class="co">#&gt; # ... with 8 more variables: `Standard Concept` &lt;chr&gt;, `Standard Concept</span>
<span class="co">#&gt; #   Caption` &lt;chr&gt;, `Invalid Reason` &lt;chr&gt;, `Invalid Reason Caption` &lt;chr&gt;,</span>
<span class="co">#&gt; #   `Concept Code` &lt;chr&gt;, `Domain Id` &lt;chr&gt;, `Vocabulary Id` &lt;chr&gt;, `Concept</span>
<span class="co">#&gt; #   Class Id` &lt;chr&gt;</span></pre></body></html></div>
<p><code>createConceptSetWorkbook</code> maybe used to create an Excel workbook of the concept set.</p>
<p>If we want a list of all conceptId’s (including descendants) from the concept set expression</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">resolvedConcepts</span> <span class="kw">=</span> <span class="fu"><a href="../reference/resolveConceptSet.html">resolveConceptSet</a></span>(<span class="kw">conceptSetDefinition</span> <span class="kw">=</span> <span class="no">conceptSetDefinition</span>, <span class="kw">baseUrl</span> <span class="kw">=</span> <span class="no">baseUrl</span>)
<span class="no">resolvedConcepts</span>
<span class="co">#&gt;  [1]    80809  4035427  4035611  4103516  4114439  4114440  4114441  4114442</span>
<span class="co">#&gt;  [9]  4114444  4115050  4115051  4115161  4116148  4116149  4116150  4116151</span>
<span class="co">#&gt; [17]  4116152  4116153  4116440  4116441  4116442  4116443  4116444  4116445</span>
<span class="co">#&gt; [25]  4116446  4117687  4147418  4162539  4179378  4179536  4200987  4269880</span>
<span class="co">#&gt; [33]  4296152  4311391 35609009 35609010 36684997 36684998 36685017 36685018</span>
<span class="co">#&gt; [41] 36685019 36685021 36685022 36685023 36686999 36687000 36687001 36687002</span>
<span class="co">#&gt; [49] 36687003 36687005 36687006 37108590 37108591 37108714 37117421 37207804</span>
<span class="co">#&gt; [57] 37207805 37207806 37207807 37209321 37209322 37209323 37209329 37395590</span>
<span class="co">#&gt; [65] 42534834 42534835 42534836 42534837 42536657 42539550</span></pre></body></html></div>
<p>The concept set expression json expression can be recaptured from WebApi as follows</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="no">json</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/getConceptSetDefinition.html">getConceptSetDefinition</a></span>(<span class="kw">baseUrl</span> <span class="kw">=</span> <span class="no">baseUrl</span>, <span class="kw">conceptSetId</span> <span class="kw">=</span> <span class="no">returnFromPostRequest</span>$<span class="no">id</span>)$<span class="no">expression</span> <span class="kw">%&gt;%</span> <span class="kw pkg">RJSONIO</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/RJSONIO/man/toJSON.html">toJSON</a></span>(<span class="kw">pretty</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
</div>
</div>
<div id="cohortscharacterizationincidence-rate" class="section level1">
<h1 class="hasAnchor">
<a href="#cohortscharacterizationincidence-rate" class="anchor"></a>Cohorts/Characterization/Incidence rate</h1>
<p>Please review <a href="https://ohdsi.github.io/TheBookOfOhdsi/Cohorts.html#what-is-a-cohort">‘What is a cohort - The Book of OHDSI’</a>.</p>
<blockquote>
<p>We define a cohort as a set of persons who satisfy one or more inclusion criteria for a duration of time. The term cohort is often interchanged with the term phenotype. Cohorts are used throughout OHDSI analytical tools and network studies as the primary building blocks for executing a research question.</p>
</blockquote>
<blockquote>
<p>A cohort is defined as the set of persons satisfying one or more inclusion criteria for a duration of time. One person may qualify for one cohort multiple times during non-overlapping time intervals. Cohorts are constructed in ATLAS by specifying cohort entry criteria and cohort exit criteria. Cohort entry criteria involve selecting one or more initial events, which determine the start date for cohort entry, and optionally specifying additional inclusion criteria which filter to the qualifying events. Cohort exit criteria are applied to each cohort entry record to determine the end date when the person’s episode no longer qualifies for the cohort.</p>
</blockquote>
<p>Cohorts/Characterization/Incidence Rate are WebApi categories, where WebApi manages the execution of generations.</p>
<p>Example: We may want to know if a certain cohort specification has been generated by checking cohort generation status <code><a href="../reference/getCohortGenerationInformation.html">getCohortGenerationInformation(baseUrl = baseUrl, cohortId= 4234)</a></code>. If a cohort is not previously generated, it may be generated using <code>invokeCohortSetGeneration(baseUrl = baseUrl, cohortId = 4234, sourceKey = 'HCUP')</code> . If it is already generated, we can extract its output of cohort generation using <code><a href="../reference/getCohortResults.html">getCohortResults(baseUrl, cohortId = 4234)</a></code>.</p>
</div>
<div id="characterization-to-do" class="section level1">
<h1 class="hasAnchor">
<a href="#characterization-to-do" class="anchor"></a>Characterization (TO Do)</h1>
<p>Please review <a href="https://ohdsi.github.io/TheBookOfOhdsi/Characterization.html">‘Characterization - The Book of OHDSI’</a>.</p>
</div>
<div id="population-level-effect-estimation-to-do" class="section level1">
<h1 class="hasAnchor">
<a href="#population-level-effect-estimation-to-do" class="anchor"></a>Population Level Effect Estimation (TO Do)</h1>
<p>Please review <a href="https://ohdsi.github.io/TheBookOfOhdsi/PopulationLevelEstimation.html">‘Population Level Effect Estimation - The Book of OHDSI’</a>.</p>
</div>
<div id="patient-level-prediction-to-do" class="section level1">
<h1 class="hasAnchor">
<a href="#patient-level-prediction-to-do" class="anchor"></a>Patient Level Prediction (TO Do)</h1>
<p>Please review <a href="https://ohdsi.github.io/TheBookOfOhdsi/PatientLevelPrediction.html">‘Patient Level Prediction - The Book of OHDSI’</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Gowtham Rao, Martijn Schuemie, Ajit Londhe, Frank DeFalco.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
